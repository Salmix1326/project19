import{r as p,u as h,j as t,y as x,A as j,B as v,t as f,m as U,C as b,n as S}from"./index-E7iVbXwC.js";function y({user:e={},onSubmit:a}){const[r,u]=p.useState(e?.email||""),[i,o]=p.useState(e?.displayName||""),[d,l]=p.useState(e?.role||"user"),{t:n}=h(),c=s=>{s.preventDefault(),a({...e,email:r,displayName:i,role:d})};return t.jsxs("form",{onSubmit:c,children:[t.jsx("input",{value:r,onChange:s=>u(s.target.value),placeholder:n("userForm.email"),disabled:!!e.id,required:!0}),t.jsx("input",{value:i,onChange:s=>o(s.target.value),placeholder:n("userForm.name"),disabled:!!e.id,required:!0}),t.jsx("select",{value:d,onChange:s=>l(s.target.value),children:Object.entries(x).map(([s,m])=>t.jsx("option",{value:m,children:m},s))}),t.jsx("button",{type:"submit",children:e.id?n("userForm.save"):n("userForm.add")})]})}function E({user:e,onSuccess:a}){const[r,{isLoading:u,error:i}]=j(),[o,{isLoading:d,error:l}]=v(),n=async(c,s,m,g)=>{c?await r({uid:c,role:g}):await o({email:s,displayName:m,role:g}),a&&a()};return t.jsx(y,{user:e,onSubmit:n})}function R(){const{id:e}=f(),a=U(),{data:r=[],isLoading:u}=b(),i=r.find(l=>l.id===e),{t:o}=h(),d=()=>{a(S.pages.UsersPage.navigationPath)};return u?t.jsxs("div",{children:[o("sharedTranslations.loading"),"..."]}):t.jsxs("div",{children:[t.jsx("h1",{children:"Редагування користувача"}),t.jsx(E,{user:i,onSuccess:d})]})}export{R as default};
