import{a as g,u as r,j as t,m as c,n as l,w as f,x as h,y as i,z as b,e as w}from"./index-E7iVbXwC.js";import{e as p}from"./edit-white-Cx0EbIOU.js";import{d as j}from"./delete-white-Cl4U7Ja_.js";function v({product:e,userId:s}){const[n]=g(),{t:o}=r();return t.jsx("button",{className:"px-1.5 py-1 rounded bg-green-600 hover:bg-green-700 text-white text-xs font-medium shadow focus:outline-none focus:ring-2 focus:ring-green-400 whitespace-nowrap",onClick:()=>n({userId:s,productId:e.id,product:e}),children:o("productCard.addToCartButton")})}function N({productId:e}){const{t:s}=r(),n=c(),o=()=>{n(l.pages.ProductEditPage.navigationPath(e))};return t.jsx("button",{className:"px-1.5 py-1 rounded bg-yellow-500 hover:bg-yellow-600 text-white text-xs font-medium shadow focus:outline-none focus:ring-2 focus:ring-yellow-300 flex items-center justify-center",title:s("productForm.editButton"),onClick:o,children:t.jsx("img",{src:p,alt:s("productForm.editButton"),className:"w-4 h-4"})})}function y({productId:e,onDeleted:s}){const[n]=f(),{t:o}=r(),a=async()=>{await n(e),s&&s()};return t.jsx("button",{className:"px-1.5 py-1 rounded bg-red-600 hover:bg-red-700 text-white text-xs font-medium shadow focus:outline-none focus:ring-2 focus:ring-red-400 flex items-center justify-center",onClick:a,title:o("productForm.deleteButton"),children:t.jsx("img",{src:j,alt:o("productForm.deleteButton"),className:"w-4 h-4"})})}function k({product:e,children:s}){const{t:n}=r();return t.jsxs("div",{className:"group relative flex h-72 w-full flex-col gap-1 items-center rounded-2xl bg-white p-4 shadow-md transition-all duration-300 hover:-translate-y-1 hover:shadow-xl dark:bg-slate-800",children:[e.image&&t.jsx("div",{className:"relative flex h-36 w-36 items-center justify-center overflow-hidden rounded-xl border border-slate-200 bg-slate-50 dark:border-slate-700 dark:bg-slate-700",children:t.jsx("img",{src:e.image,alt:e.name,className:"h-full w-full object-contain transition-transform duration-300 group-hover:scale-105"})}),t.jsx("h3",{children:e.name}),t.jsxs("div",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:[t.jsx("span",{className:"font-bold text-indigo-600 dark:text-indigo-400",children:e.price})," ",n("productCard.currency")]}),e.ownerName&&t.jsxs("div",{className:"mt-1 text-xs text-slate-400",children:[n("productCard.owner"),": ",e.ownerName||e.ownerId]}),t.jsx("div",{className:"mt-auto w-full",children:s})]})}function P({userId:e,productId:s,product:n}){const[o]=h(),{t:a}=r(),d=async()=>{await o({userId:e,productId:s,product:n})};return t.jsx("button",{className:" px-6 py-2 rounded-lg font-semibold transition-colors duration-200 shadow-md focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 bg-blue-600 hover:bg-blue-700 text-white",onClick:d,children:a("productCard.addToFavoritesButton")})}function C({product:e,user:s,role:n,onDeleted:o}){const a=s&&e.ownerId===s.uid,d=n===i.admin||n===i.manager&&a,u=n===i.admin||n===i.manager&&a,m=n===i.user,x=n===i.user;return t.jsx(k,{product:e,children:t.jsx("div",{className:"mt-3 flex w-full  items-center justify-center gap-2",children:t.jsxs("div",{className:"flex gap-5",children:[m&&t.jsx(v,{product:e,userId:s?.uid,className:"rounded-lg flex-1/2 bg-indigo-600 px-3 h-full py-1.5 text-sm font-medium text-white shadow hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),x&&t.jsx(P,{userId:s?.uid,productId:e.id,product:e,className:"rounded-lg flex-1/2 bg-pink-500 px-3 h-auto py-1.5 text-sm font-medium text-white shadow hover:bg-pink-600 focus:outline-none focus:ring-2 focus:ring-pink-400"}),d&&t.jsx(N,{productId:e.id,className:"rounded-lg flex-1/2 bg-amber-500 px-3 h-auto py-1.5 text-sm font-medium text-white shadow hover:bg-amber-600 focus:outline-none focus:ring-2 focus:ring-amber-400"}),u&&t.jsx(y,{productId:e.id,onDeleted:o,className:"rounded-lg flex-1/2 bg-red-500 px-3 h-auto py-1.5 text-sm font-medium text-white shadow hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-400"})]})})})}function B({user:e,role:s}){const{data:n=[],isLoading:o}=b();return o?t.jsx("div",{className:"text-center text-lg text-slate-500 py-8",children:"Завантаження..."}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(a=>t.jsx(C,{product:a,user:e,role:s},a.id))})}function I(){const e=c(),{t:s}=r(),n=()=>{e(l.pages.ProductEditPage.navigationPath())};return t.jsx("button",{className:"mb-4 px-6 py-2 rounded-lg font-semibold transition-colors duration-200 shadow-md focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 bg-blue-600 hover:bg-blue-700 text-white",onClick:n,children:s("productForm.addButton")})}function E(){const e=w(o=>o.auth.user),s=e?.role,{t:n}=r();return t.jsx("div",{className:"flex min-h-full bg-gradient-to-br  dark:from-slate-900 dark:to-slate-800",children:t.jsxs("div",{className:"max-w-5xl mx-auto bg-white dark:bg-slate-900 rounded-2xl shadow-lg p-6 sm:p-10",children:[t.jsx("h1",{className:"text-3xl font-bold mb-6 text-center text-slate-800 dark:text-slate-100 tracking-tight",children:n("products.title")}),s==="admin"||s==="manager"?t.jsx("div",{className:"flex flex-col items-center mb-8",children:t.jsx(I,{})}):null,t.jsx(B,{user:e,role:s})]})})}export{E as default};
