import{f as x,u as o,j as t,g as m,r as d,e as u}from"./index-E7iVbXwC.js";import{d as g}from"./delete-white-Cl4U7Ja_.js";function f({userId:s,productId:e}){const[a]=x(),{t:i}=o(),l=async()=>{await a({userId:s,productId:e})};return t.jsx("button",{className:"px-1.5 py-1 rounded bg-red-600 hover:bg-red-700 text-white text-xs font-medium shadow focus:outline-none focus:ring-2 focus:ring-red-400 flex items-center justify-center",onClick:l,title:i("productCard.deleteFromFavoritesButton"),children:t.jsx("img",{src:g,alt:i("productCard.deleteFromFavoritesButton"),className:"w-4 h-4"})})}function h({user:s,product:e}){const{t:a}=o();return t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow p-2 flex flex-col items-center transition hover:shadow-lg w-full max-w-[180px] mx-auto h-64 relative",children:[e.image&&t.jsx("img",{src:e.image,alt:e.name,className:"mb-1 w-32 h-32 object-contain rounded border border-slate-200 dark:border-slate-700 bg-slate-100 dark:bg-slate-700"}),t.jsx("h3",{className:"text-sm font-semibold text-slate-800 dark:text-slate-100 mb-0.5 text-center w-full truncate",children:e.name}),t.jsxs("div",{className:"text-slate-600 dark:text-slate-300 mb-1 text-xs",children:[t.jsx("span",{className:"font-bold",children:e.price})," ",a("favorites.currency")]}),e.ownerName&&t.jsxs("div",{className:"text-xs text-slate-400 mb-1",children:["Власник: ",e.ownerName||e.ownerId]}),t.jsx(f,{userId:s.id,productId:e.id})]})}function v({user:s}){const{data:e,isLoading:a,error:i}=m(s.id),[l,c]=d.useState([]),{t:n}=o();return d.useEffect(()=>{if(e){const r=Array.isArray(e)?e:Object.values(e);c(r),console.log(r)}},[e]),a?t.jsxs("div",{className:"text-center text-lg text-slate-500 py-8 animate-pulse",children:[n("sharedTranslations.loading"),"..."]}):i?t.jsx("div",{className:"text-center text-lg text-red-500 py-8",children:n("favoritesList.loadingError")}):l.length===0?t.jsx("div",{className:"text-center text-lg text-slate-400 py-8",children:n("favoritesList.emptyList")}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(r=>t.jsx(h,{user:s,product:r},r.id))})}function p(){const s=u(a=>a.auth.user),{t:e}=o();return t.jsx("div",{className:"bg-gradient-to-br from-slate-100 to-slate-300 dark:from-slate-900 dark:to-slate-800 py-8 px-2 sm:px-0",children:t.jsxs("div",{className:"max-w-3xl mx-auto bg-white dark:bg-slate-900 rounded-2xl shadow-lg p-6 sm:p-10",children:[t.jsx("h1",{className:"text-3xl font-bold mb-6 text-center text-slate-800 dark:text-slate-100 tracking-tight",children:e("favorites.title")}),t.jsx(v,{user:s})]})})}export{p as default};
