import{m as x,u as c,j as e,n as u,y as o,C as m,e as d,D as f}from"./index-E7iVbXwC.js";import{e as h}from"./edit-white-Cx0EbIOU.js";import{d as j}from"./delete-white-Cl4U7Ja_.js";function p({userId:s}){const t=x(),{t:n}=c(),i=()=>{t(u.pages.UserEditPage.navigationPath(s))};return e.jsx("button",{className:"px-1.5 py-1 rounded bg-yellow-500 hover:bg-yellow-600 text-white text-xs font-medium shadow focus:outline-none focus:ring-2 focus:ring-yellow-300 flex items-center justify-center",title:n("userForm.edit"),onClick:i,children:e.jsx("img",{src:h,alt:n("userForm.edit"),className:"w-4 h-4"})})}function g({userId:s,onDeleted:t}){const{t:n}=c(),i=()=>{t&&t(s)};return e.jsx("button",{className:"px-1.5 py-1 rounded bg-red-600 hover:bg-red-700 text-white text-xs font-medium shadow focus:outline-none focus:ring-2 focus:ring-red-400 flex items-center justify-center",onClick:i,title:n("userForm.delete"),children:e.jsx("img",{src:j,alt:n("userForm.delete"),className:"w-4 h-4"})})}function w({user:s,children:t}){return e.jsxs("div",{className:"flex items-center border-b border-slate-700 py-2 px-2 gap-2",children:[e.jsx("div",{className:"flex min-w-[140px] max-w-[180px] flex-shrink-0",children:e.jsx("strong",{className:"truncate text-slate-100",children:s.displayName})}),e.jsx("div",{className:"flex min-w-[180px] max-w-[240px] flex-shrink-0",children:e.jsx("span",{className:"truncate text-xs text-slate-400",children:s.email})}),e.jsx("div",{className:"flex min-w-[80px] max-w-[100px] flex-shrink-0 justify-center",children:e.jsx("span",{className:"text-xs text-slate-500 italic",children:s.role})}),e.jsx("div",{className:"flex flex justify-end items-center min-w-0",children:t})]})}function v({user:s,currentUser:t,currentRole:n,onDeleted:i}){const r=t&&s.uid===t.uid,l=n===o.admin&&!r,a=n===o.admin&&!r;return e.jsx(w,{user:s,children:e.jsxs("div",{className:"flex gap-1 items-center",children:[l&&e.jsx(p,{userId:s.uid}),a&&e.jsx(g,{userId:s.uid,onDeleted:i})]})})}function N(){const{data:s,isLoading:t,error:n}=m(),i=d(f),r=i?.role;if(t)return e.jsx("div",{children:"Завантаження..."});if(n)return e.jsxs("div",{children:["Помилка: ",n.toString()]});const l=s||[];return e.jsx("div",{children:l.map(a=>e.jsx(v,{user:a,currentUser:i,currentRole:r},a.id))})}function I(){d(t=>t.auth.role);const{t:s}=c();return e.jsxs("div",{children:[e.jsx("h1",{children:s("users.title")}),e.jsx(N,{})]})}export{I as default};
